<div class="section pfe-space" id="pfe">
  <div class="container">
    <!-- Buttons for submission -->
    <div class="row mb-4">
      <div class="col-lg-12 text-center">
        <a [routerLink]="['/submissions/new']" class="btn btn-secondary ml-3">
          Submit documents
        </a>
        <a [routerLink]="['/submissions']" class="btn btn-secondary ml-3">
          <i class="fas fa-plus"></i> My Submission
        </a>
      </div>
    </div>

    

    <!-- Title and Description Section -->
    <div class="row">
      <div class="col-lg-12 text-center">
        <div class="section-heading">
          <h6>PFE Space</h6>
          <h2>End-of-Study Projects</h2>
          <p class="subheading">Browse and choose from a variety of innovative project offers.</p>
        </div>
      </div>
    </div>
    <!-- Search and Filter Section -->
    <div class="row mb-4">
      <div class="col-lg-12 text-center">
        <input 
          type="text" 
          [(ngModel)]="searchQuery" 
          (input)="onSearch()" 
          class="form-control search-input" 
          placeholder="Search offers by title, company, or field">
      </div>
    </div>

    <!-- Filter by Field -->
    <div class="row mb-4">
      <div class="col-lg-12 text-center">
        <select class="form-control" [(ngModel)]="selectedField" (change)="onFilterChange()">
          <option value="">Filter by Field</option>
          <option *ngFor="let field of fields" [value]="field">{{ field }}</option>
        </select>
      </div>
    </div>
  
    <!-- Add New Offer Button -->
    <div class="row">
      <div class="col-lg-12 text-center mb-4">
        <a [routerLink]="['/offers/add']" class="btn btn-success btn-lg">
          <i class="fas fa-plus"></i> Add New Offer
        </a>
      </div>
    </div>

    <!-- Offer Cards Section -->
    <div class="row">
      <div *ngFor="let offer of paginatedOffers" class="col-lg-4 col-md-6 mb-4">
        <div class="project-offer">
          <div class="overlay">
            <h4>{{ offer.title }}</h4>
          </div>
          <div class="down-content">
            <p><strong>Field:</strong> {{ offer.field }}</p>
            <p><strong>Company:</strong> {{ offer.companyName }}</p>
            <p><strong>Positions:</strong> {{ offer.numberOfPositions }}</p>
            <a [routerLink]="['/offers', offer.id]" class="btn btn-primary">
              See more <i class="fas fa-arrow-right"></i>
            </a>
          </div>
        </div>
      </div>
    </div>

    <!-- Pagination Section with Previous and Next Buttons -->
    <div class="pagination text-center mt-4">
      <button (click)="prevPage()" [disabled]="currentPage === 1" class="btn btn-secondary">
        Previous
      </button>
      <span> Page {{ currentPage }} of {{ totalPages }} </span>
      <button (click)="nextPage()" [disabled]="currentPage >= totalPages" class="btn btn-secondary">
        Next
      </button>
    </div>
  </div>
</div>

<app-chatbot></app-chatbot>