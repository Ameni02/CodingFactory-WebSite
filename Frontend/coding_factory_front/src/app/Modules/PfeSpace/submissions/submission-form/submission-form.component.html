<div class="container">
  <div class="submission-form">
    <div class="form-header">
      <h2>Submit Your Project Deliverables</h2>
      <p>Complete the form below to submit your project files and documentation</p>
    </div>

    <div class="form-body">
      <form [formGroup]="submissionForm" (ngSubmit)="onSubmit()">
        <!-- Project ID -->
        <div class="form-group">
          <label for="projectId">
            <i class="fas fa-project-diagram"></i> Project ID
          </label>
          <input
            id="projectId"
            formControlName="projectId"
            type="number"
            placeholder="Enter your project ID"
            required
          />
          <div *ngIf="submissionForm.get('projectId')?.invalid && submissionForm.get('projectId')?.touched" class="error-message">
            <i class="fas fa-exclamation-circle"></i> Project ID is required
          </div>
        </div>

        <!-- Academic Supervisor ID -->
        <div class="form-group">
          <label for="academicSupervisorId">
            <i class="fas fa-user-tie"></i> Academic Supervisor ID
          </label>
          <input
            id="academicSupervisorId"
            formControlName="academicSupervisorId"
            type="number"
            placeholder="Enter your supervisor's ID"
            required
          />
          <div *ngIf="submissionForm.get('academicSupervisorId')?.invalid && submissionForm.get('academicSupervisorId')?.touched" class="error-message">
            <i class="fas fa-exclamation-circle"></i> Supervisor ID is required
          </div>
        </div>

        <!-- Title -->
        <div class="form-group">
          <label for="title">
            <i class="fas fa-heading"></i> Project Title
          </label>
          <input
            id="title"
            formControlName="title"
            type="text"
            placeholder="Enter the title of your project"
            required
          />
          <div *ngIf="submissionForm.get('title')?.invalid && submissionForm.get('title')?.touched" class="error-message">
            <i class="fas fa-exclamation-circle"></i> Title is required
          </div>
        </div>

        <!-- Description File -->
        <div class="form-group">
          <label for="descriptionFilePath">
            <i class="fas fa-file-alt"></i> Project Documentation
          </label>
          <input
            id="descriptionFilePath"
            (change)="handleDescriptionFileInput($event)"
            type="file"
            accept="application/pdf, image/*"
            required
          />
          <div *ngIf="descriptionFile" class="file-selected">
            <i class="fas fa-check-circle"></i> Selected file: {{ descriptionFile.name }}
          </div>
          <div *ngIf="submissionForm.get('descriptionFilePath')?.invalid && submissionForm.get('descriptionFilePath')?.touched" class="error-message">
            <i class="fas fa-exclamation-circle"></i> Documentation file is required
          </div>
        </div>

        <!-- Report File -->
        <div class="form-group">
          <label for="reportFilePath">
            <i class="fas fa-file-pdf"></i> Final Report
          </label>
          <input
            id="reportFilePath"
            (change)="handleReportFileInput($event)"
            type="file"
            accept="application/pdf"
            required
          />
          <div *ngIf="reportFile" class="file-selected">
            <i class="fas fa-check-circle"></i> Selected file: {{ reportFile.name }}
          </div>
          <div *ngIf="submissionForm.get('reportFilePath')?.invalid && submissionForm.get('reportFilePath')?.touched" class="error-message">
            <i class="fas fa-exclamation-circle"></i> Report file is required
          </div>
        </div>

        <!-- Submission Date -->
        <div class="form-group">
          <label for="submissionDate">
            <i class="fas fa-calendar-alt"></i> Submission Date
          </label>
          <input
            id="submissionDate"
            formControlName="submissionDate"
            type="date"
            required
          />
          <div *ngIf="submissionForm.get('submissionDate')?.invalid && submissionForm.get('submissionDate')?.touched" class="error-message">
            <i class="fas fa-exclamation-circle"></i> Submission date is required
          </div>
        </div>

        <!-- Action Buttons -->
        <div class="form-actions">
          <button type="submit" [disabled]="!submissionForm.valid">
            <i class="fas fa-paper-plane"></i> Submit Deliverables
          </button>

          <button [routerLink]="['/merge']" class="merge-button">
            <i class="fas fa-object-group"></i> Merge PDF Files
          </button>

          <button [routerLink]="['/offers']" class="btn-back">
            <i class="fas fa-arrow-left"></i> Back to Offers
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

<app-chatbot></app-chatbot>