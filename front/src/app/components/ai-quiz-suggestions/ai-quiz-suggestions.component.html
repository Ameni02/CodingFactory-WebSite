<div class="ai-quiz-container">
  <h3>ğŸ¤– GÃ©nÃ©rer un Quiz avec IA</h3>

  <!-- Sujet -->
  <mat-form-field appearance="fill" class="full-width">
    <mat-label>Sujet du quiz</mat-label>
    <input matInput [(ngModel)]="topic" placeholder="Ex : SÃ©curitÃ© Web" />
  </mat-form-field>

  <!-- Nombre de questions -->
  <mat-form-field appearance="fill" class="full-width">
    <mat-label>Nombre de questions</mat-label>
    <input matInput type="number" min="1" [(ngModel)]="numQuestions" />
  </mat-form-field>

  <!-- Bouton GÃ©nÃ©ration -->
  <button mat-raised-button color="primary" (click)="generateQuiz()" [disabled]="loading">
    {{ loading ? 'â³ GÃ©nÃ©ration en cours...' : 'âš™ï¸ GÃ©nÃ©rer le quiz' }}
  </button>

  <!-- Message d'erreur -->
  <p class="error" *ngIf="errorMessage">{{ errorMessage }}</p>

  <!-- Affichage JSON gÃ©nÃ©rÃ© -->
  <div *ngIf="rawAiText" class="result-preview">
    <h4>ğŸ“¦ AperÃ§u JSON gÃ©nÃ©rÃ©</h4>
    <pre>{{ rawAiText }}</pre>

    <!-- âœ… Bouton d'import vers le parent (add-quiz.component) -->
    <button mat-raised-button color="accent" (click)="importQuiz()">
      â• Ajouter ce quiz Ã  la base
    </button>
  </div>
</div>
